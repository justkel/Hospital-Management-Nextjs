############################
# AUTH
############################

mutation StaffLogin($input: StaffLoginInput!) {
  staffLogin(input: $input) {
    accessToken
    refreshToken
  }
}

mutation RefreshToken {
  refreshToken {
    accessToken
    refreshToken
  }
}

query WhoAmI {
  whoAmI {
    email
    roles
  }
}

############################
# STAFF
############################

query GetAllStaff($page: Int! = 1, $limit: Int! = 25) {
  staffs(page: $page, limit: $limit) {
    items {
      id
      fullName
      email
      userCode
      userType
      roles
      status
      phoneNumber
      organizationId
    }
    total
    page
    pageCount
  }
}

query GetStaffByRole($role: StaffRole!) {
  staffByRole(role: $role) {
    id
    fullName
    email
    userCode
    userType
    roles
    status
    phoneNumber
    organizationId
  }
}

mutation CreateStaff($data: CreateStaffInput!) {
  createStaff(data: $data) {
    id
    fullName
    email
    userCode
    userType
    roles
    phoneNumber
    organizationId
  }
}

query GetStaffById($id: String!) {
  staffById(id: $id) {
    id
    fullName
    email
    phoneNumber
    roles
    userCode
    status
  }
}

query SearchStaff($query: String!) {
  searchStaff(query: $query) {
    id
    fullName
    email
    phoneNumber
    roles
    userCode
  }
}

mutation UpdateStaff($data: UpdateStaffInput!) {
  updateStaff(data: $data) {
    id
    fullName
    email
    phoneNumber
    roles
  }
}

mutation UpdateStaffRoles($data: UpdateStaffRolesInput!) {
  updateStaffRoles(data: $data) {
    id
    fullName
    email
    roles
  }
}

mutation UpdateStaffStatus($data: UpdateStaffStatusInput!) {
  updateStaffStatus(data: $data) {
    id
    fullName
    email
    userCode
    roles
    status
    organizationId
  }
}

mutation UpdateStaffPassword($input: UpdateStaffPasswordInput!) {
  updateStaffPassword(input: $input)
}

mutation CreatePatient($data: CreatePatientInput!) {
  createPatient(data: $data) {
    patient {
      id
      patientNumber
      fullName
      gender
      phoneNumber
      email
      bloodGroup
      emergency
    }
    warning
    matches {
      patientId
      patientNumber
      fullName
      confidence
    }
  }
}

query GetAllPatients($pagination: PatientPaginationInput!) {
  patients(pagination: $pagination) {
    items {
      id
      patientNumber
      fullName
      gender
      phoneNumber
      email
      bloodGroup
      emergency
      status
    }
    total
    page
    pageCount
  }
}

query SearchPatient($query: String!) {
  searchPatient(query: $query) {
    id
    fullName
    email
    phoneNumber
    gender
    patientNumber
    status
    emergency
  }
}

query GetPatientById($id: String!) {
  patientById(id: $id) {
    id
    fullName
    dateOfBirth
    gender
    phoneNumber
    secondaryPhoneNumber
    email
    patientNumber
    userCode
    status
    bloodGroup
    allergies
    emergency
    extraDetails
    nextOfKinName
    nextOfKinPhone
    createdByStaffId
    likelyDuplicatePatientIds
    addresses {
      addressLine1
      city
      state
      country
    }
  }
}

mutation UpdatePatient($data: UpdatePatientInput!) {
  updatePatient(data: $data) {
    id
    userCode
  }
}